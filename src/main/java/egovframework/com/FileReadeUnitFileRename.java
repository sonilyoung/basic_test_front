package egovframework.com;

import java.io.File;
import java.io.IOException;

public class FileReadeUnitFileRename {

	public static final int XBT_TARGET_NAME = 5500;
	public static final String strDirPath = "D:\\KINAC16\\test-unit";
	public static final String[] targetList = { "R01", "R02", "R03", "R04", "R05", "R06", "R07", "R08", "R09", "R10",
			"R11", "R12", "30029", "10463", "10439", "10467", "10451", "11572", "11016", "11013", "11012", "11013",
			"11012", "11010", "10460", "10466", "10459", "11350", "11676", "10456", "11015", "11015", "11014", "11675",
			"11679", "12073", "11004", "11010", "11011", "10434", "11008", "11005", "11001", "11000", "11571", "11547",
			"10440", "10462", "11006", "13005", "10999", "10450", "11742", "11673", "10438", "11439", "10628", "11018",
			"10443", "10444", "11577", "11762", "10435", "10098", "10433", "10628", "11570", "11573", "11674", "11575",
			"11576", "12061", "10447", "12068", "20003", "10436", "10452", "11003", "11566", "11058", "11203", "10105",
			"11211", "10279", "11831", "30023", "10576", "30024", "20035", "10887", "30022", "12072", "20037", "10913",
			"20033", "20031", "10932", "11669", "10922", "10948", "10933", "10917", "10102", "10968", "10976", "10921",
			"20002", "10939", "10962", "10915", "10920", "10942", "10917", "20001", "10100", "10960", "20013", "20036",
			"20012", "20028", "20025", "10802", "20030", "11022", "20032", "10662", "10687", "10691", "12031", "20017",
			"11025", "10654", "11029", "11548", "10652", "10656", "10673", "20029", "10701", "10670", "20023", "10663",
			"11025", "10668", "10689", "20018", "11722", "11685", "10671", "11021", "10657", "10669", "10886", "20041",
			"20007", "20011", "10996", "11557", "20042", "20010", "10995", "10091", "10770", "10431", "10997", "11967",
			"11582", "10611", "11814", "11798", "11812", "11805", "11813", "11799", "11795", "11797", "11815", "11796",
			"11162", "11800", "11811", "11569", "11568", "10608", "11203", "11196", "11224", "11055", "20005", "11672",
			"20038", "11059", "10435", "11227", "11220", "11192", "11217", "11219", "11062", "11212", "11194", "11285",
			"11208", "11190", "11060", "11245", "11234", "10424", "10426", "11159", "10987", "11167", "10122", "10988",
			"11808", "10910", "20045", "11547", "11894", "20014", "11561", "11562", "10078", "10062", "10782", "11031",
			"11244", "20034", "10475", "10793", "10476", "10650", "12033", "11034", "11033", "10781", "10888", "10884",
			"10484", "10613", "10600", "10502", "10598", "10885", "10596", "10849", "10792", "10601", "10729", "10599",
			"10827", "10597", "10787", "10837", "10821", "10739", "10852", "10879", "10744", "10863", "10635", "11186",
			"10485", "10486", "11192", "11221", "11211", "11267", "11248", "10080", "11226", "11263", "11233", "10116",
			"10068", "11213", "11227", "11198", "30002", "30007", "30001", "13000", "30006", "10909", "10897", "10904",
			"20021", "11038", "11176", "11039", "11102", "30003", "11982", "11100", "11098", "30004", "13003", "11971",
			"10606", "11556", "10587", "11555", "13002", "10509", "10591", "10590", "10595", "10592", "10573", "10572",
			"10636", "10589", "10124", "10222", "20019", "11038", "11974", "11611", "11040", "11102", "11619", "11983",
			"11041", "11098", "11095", "11174", "11043", "11046", "11175", "11042", "11678", "20015", "11041", "11608",
			"11094", "11170", "10906", "10891", "10895", "10896", "10893", "11171", "11969", "11970", "11973", "11986",
			"11984", "11976", "11102", "11096", "11043", "11677", "11981", "11985", "11989", "11972", "11036", "10487",
			"10605", "11241", "10640", "10614", "10747", "10839", "10832", "10698", "10716", "10819", "10703", "10735",
			"10847", "10729", "10501", "10626", "10834", "10818", "10714", "10877", "10869", "10603", "10830", "10740",
			"10831", "10728", "10727", "10848", "10835", "10854", "10765", "10860", "10866", "10864", "10104", "10787",
			"10736", "10734", "10838", "10981", "11185", "10870", "10638", "10820", "10788", "10843", "10763", "10844",
			"10746", "10748", "10619", "10749", "10752", "10753", "10504", "10505", "10506", "10503", "11563", "10495",
			"10500", "10498", "10472", "10473", "10474", "10470", "10471", "10497", "10491", "10468", "10490", "10492",
			"10493", "10489", "10481", "10482", "10483", "10050", "11126", "11543", "10041", "11628", "10040", "11627",
			"11128", "10045", "11091", "11024", "10120", "10696", "10695", "10651", "11755", "10062", "11545", "11034",
			"10795", "20008", "10791", "10798", "20040", "10797", "20009", "20039", "10775", "10801", "11032", "10826",
			"12035", "10665", "10697", "10690", "11031", "10683", "11027", "10682", "10743", "11030", "10840", "10882",
			"10824", "10713", "10099", "10817", "10719", "10627", "10878", "11564", "10733", "10712", "10096", "10479",
			"10488", "10478", "10477", "10661", "11204", "10977", "10931", "11560", "11035", "11558", "10308", "10545",
			"10522", "10294", "10305", "10524", "10306", "10536", "10531", "10541", "10521", "10540", "10538", "10528",
			"10543", "10533", "10537", "10542", "10514", "10385", "10320", "10342", "10316", "10349", "10326", "10357",
			"10348", "10353", "10319", "10358", "10351", "10359", "10381", "10323", "10325", "10356", "10382", "10339",
			"10337", "10317", "10322", "10321", "10324", "10328", "10360", "10347", "10344", "10346", "10330", "11431",
			"10410", "10394", "10379", "10393", "10315", "10387", "10361", "10362", "10383", "10380", "10327", "10388",
			"10345", "10338", "10384", "10414", "10376", "10397", "10377", "10413", "10412", "10378", "10396", "10364",
			"10366", "10386", "10375", "10355", "10366", "10333", "10363", "10332", "10398", "10399", "10367", "10313",
			"10352", "10368", "12009", "40044", "40045", "40046", "11816", "12010", "10304", "12011", "11278", "10060",
			"10132", "10250", "20027", "10135", "10318", "10354", "12000", "11418", "10365", "10145", "11345", "11250",
			"10190", "40043", "12106", "12104", "12014", "10148", "11361", "10178", "11349", "10182", "11366", "10170",
			"11356", "11400", "11287", "11357", "10577", "11359", "11358", "11369", "11336", "11365", "11330", "11367",
			"10184", "10059", "11325", "11411", "11342", "11279", "11432", "11326", "10159", "10110", "10174", "10144",
			"11146", "11438", "10179", "11403", "11391", "11337", "11277", "11390", "11331", "11364", "11425", "11273",
			"10181", "11430", "11401", "11412", "11428", "11441", "11415", "11335", "11421", "10177", "10142", "11442",
			"11273", "11427", "11431", "11420", "11407", "11398", "11282", "10070", "10207", "10192", "10209", "10218",
			"10216", "11447", "10283", "11834", "10312", "10196", "10275", "10556", "10214", "11249", "10580", "10582",
			"10213", "10203", "10268", "12032", "11817", "10277", "10220", "10224", "10194", "10285", "10208", "10293",
			"10200", "10191", "10561", "10593", "10199", "10268", "10278", "10585", "11017", "10983", "11223", "10193",
			"10557", "10563", "11819", "11065", "10201", "10197", "10205", "10569", "10237", "10515", "10518", "10231",
			"10530", "10238", "10084", "10534", "10526", "10516", "10228", "10232", "10519", "10085", "10517", "10520",
			"10303", "10239", "10233", "10532", "10230", "10253", "10240", "10525", "10535", "10236", "10529", "10544",
			"10309", "10523", "10539", "10243", "10546", "10242", "10511", "11181", "10510", "10527", "10229", "10579",
			"11237", "11064", "10170", "11822", "11225", "10130", "10221", "20004", "10134", "10562", "10056", "11057",
			"10072", "20024", "11191", "10300", "10071", "11666", "11283", "10219", "10150", "10141", "10153", "10090",
			"10187", "10633", "10314", "10168", "11389", "10166", "11642", "10128", "11824", "10583", "11450", "11451",
			"11268", "11262", "11261", "11405", "10249", "10254", "10247", "11252", "10149", "11064", "10206", "11211",
			"10210", "11239", "11050", "11246", "11208", "11216", "11284", "11223", "20006", "11380", "11255", "11257",
			"10594", "10414", "10154", "11378", "10160", "11377", "10109", "10577", "11231", "11407", "11368", "11388",
			"11410", "11397", "11444", "11426", "11419", "11278A", "10156", "10157", "12020", "11664", "11109", "11116",
			"11120", "10262", "10264", "10274", "10263", "10276", "11465", "11119", "11163", "11157", "11156", "11158",
			"11164", "11166", "11169", "11168", "11165", "11139", "11153", "11152", "11117", "11145", "10288", "10307",
			"11167", "11131", "10259", "11130", "10227", "11105", "10291", "10299", "11704", "10270", "10281", "10265",
			"10258", "10282", "10271", "10296", "10295", "10287", "11140", "11993", "11997", "11995", "11996", "10193",
			"11992", "10269", "11999", "11998", "11990", "11994", "10286", "11123", "11122", "11823", "11624", "11043",
			"11087", "11587", "10631", "11597", "11028", "10995", "10996", "11585", "11596", "10905", "11099", "11037",
			"11097", "10965", "11972", "10899", "11591", "10911", "10700", "10816", "10859", "10876", "10717", "10874",
			"10699", "10722", "10875", "10850", "11751", "10742", "11549", "10664", "11025", "10677", "20026", "10644",
			"10685", "10667", "10647", "10649", "10648", "10678", "10679", "10658", "11026", "10680", "10666", "10681",
			"10646", "20044", "11028", "20022", "10688", "20020", "10684", "10645", "10051", "11102", "10607", "10089",
			"10624", "10082", "10984", "11206", "11321", "10087", "11033", "11211", "11232", "11271", "11218", "11230",
			"11382", "11201", "11267", "11223", "10212", "11251", "11207", "11202", "11205", "10421", "10423", "11458",
			"11059", "11056", "11049", "11214", "11048", "11671", "10984", "11802", "10037", "11090", "11111", "10480",
			"10499", "11257", "11246", "11258", "10225", "10079", "11238", "11672", "11847", "11641", "30030", "11146",
			"11141", "11142", "11154", "11155", "11149", "11104", "11103", "11141", "11142", "11144", "11147", "11148",
			"11150", "11124", "11136", "11114", "11809", "11116", "11129", "11115", "11138", "11141", "11127", "12017",
			"12018", "11112", "11111", "12147", "11135", "12019", "12021", "12005", "11807", "11151", "10273", "11055",
			"11665", "10113", "11108", "11160", "11161", "11107", "11106", "11134", "10241", "10069", "11339", "10405",
			"11360", "11355", "11345", "11338", "10340", "10336", "10389", "10395", "10341", "10350", "10310", "11825",
			"11810", "12004", "30017", "30003", "30013", "30010", "10974", "10707", "10770", "10094", "10588", "20029",
			"30009", "30012", "10233", "30024", "11384", "30023", "30025", "11628", "30004", "30016", "30022", "30021",
			"30019", "30018", "30020", "40014", "40013", "40011", "40008", "40015", "40019", "40012", "40020", "40010",
			"40021", "40009", "40018", "40017", "40016", "13001", "11806", "30027", "30026", "30008", "12022", "20005",
			"10720", "11596", "10027", "11988", "10211", "10553", "10554", "11222", "11052", "10057", "10108", "11667",
			"10058", "11416", "10175", "11417", "10152", "11406", "10139", "11199", "11281", "11446", "30011", "11976",
			"11609", "10783", "20043", "10602", "10604", "20046", "10552", "10066", "10400", "10404", "10392", "10418",
			"10432", "11346", "11264", "11328", "11363", "11435", "11256", "11780", "11671", "40028", "40029", "40030",
			"40031", "40032", "40033", "40034", "40042", "40039", "40037", "40038", "40040", "40036", "30028", "30033",
			"30032", "30031", "13004", "40007", "40002", "40001", "40003" };

	public static String seqId = "";
	public static int ti = 0;

	public static void main(String[] args) throws IOException {
		// String strDirPath = "D:\\KINAC16\\인천공항리네임_wbt_image\\xray-1(renamed)";

		/*
		 * File[] folderList = ListFolder(strDirPath);
		 * 
		 * System.out.println("result count : " + folderList.length); String seqId = "";
		 * for (int i = 0; i < folderList.length; i++) {
		 * //System.out.println("result : " + fileList[i].getName()); seqId =
		 * String.format("X%05d", (XBT_TARGET_NAME + i)); File newFile = new
		 * File(strDirPath + File.separator + seqId);
		 * 
		 * for (int j = 0; j < targetList.length; j++) {
		 * if(folderList[i].getName().contains(targetList[j])) {
		 * folderList[i].renameTo(newFile); } } }
		 */

		File[] fileList = ListFile(strDirPath);
		System.out.println("result count : " + fileList.length);
	}

	// 재귀함수 파일
	private static File[] ListFile(String strDirPath) {
		File path = new File(strDirPath);
		File[] fList = path.listFiles();
		for (int i = 0; i < fList.length; i++) {
			if (fList[i].isFile()) {
				//System.out.println("파일:" + fList[i].getPath()); // 파일의 FullPath 출력
				//System.out.println("파일폴더아이디:" + fList[i].getParent().substring(fList[i].getParent().length() - 6,fList[i].getParent().length()));
				// targetList[i]
				// String fileNameWithoutExtension =
				// FilenameUtils.removeExtension(fList[i].getPath());
				// String fileExtension = StringUtils.getFilenameExtension(fList[i].getPath());

				File newXray = new File(strDirPath + File.separator + seqId + fList[i].getName().substring(fList[i].getName().length() - 6, fList[i].getName().length()));// 뒤에서
				fList[i].renameTo(newXray);

			} else if (fList[i].isDirectory()) {
				System.out.println("i:" + i);
				
				seqId = targetList[ti]+"i";
				System.out.println("seqId:" + seqId);
				System.out.println("fList[i].getName():" + fList[i].getName());
				File newFile = new File(strDirPath + File.separator + seqId);

				// byte변환
				ListFile(fList[i].getPath()); // 재귀함수 호출

				fList[i].renameTo(newFile);
				ti++;
			}
		}
		return fList;
	}
}